import{T as S}from"./toastify-QHpU6gfu.js";import"./_commonjsHelpers-Cpj98o6Y.js";var A=function(n,s){return n<s?-1:n>s?1:0},$=function(n){return n.reduce(function(s,h){return s+h},0)},D=(function(){function n(h){this.colors=h}var s=n.prototype;return s.palette=function(){return this.colors},s.map=function(h){return h},n})(),H=(function(){function n(e,t,a){return(e<<10)+(t<<5)+a}function s(e){var t=[],a=!1;function l(){t.sort(e),a=!0}return{push:function(r){t.push(r),a=!1},peek:function(r){return a||l(),r===void 0&&(r=t.length-1),t[r]},pop:function(){return a||l(),t.pop()},size:function(){return t.length},map:function(r){return t.map(r)},debug:function(){return a||l(),t}}}function h(e,t,a,l,r,o,c){var u=this;u.r1=e,u.r2=t,u.g1=a,u.g2=l,u.b1=r,u.b2=o,u.histo=c}function d(){this.vboxes=new s(function(e,t){return A(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function f(e,t){if(t.count()){var a=t.r2-t.r1+1,l=t.g2-t.g1+1,r=Math.max.apply(null,[a,l,t.b2-t.b1+1]);if(t.count()==1)return[t.copy()];var o,c,u,p,b=0,v=[],k=[];if(r==a)for(o=t.r1;o<=t.r2;o++){for(p=0,c=t.g1;c<=t.g2;c++)for(u=t.b1;u<=t.b2;u++)p+=e[n(o,c,u)]||0;v[o]=b+=p}else if(r==l)for(o=t.g1;o<=t.g2;o++){for(p=0,c=t.r1;c<=t.r2;c++)for(u=t.b1;u<=t.b2;u++)p+=e[n(c,o,u)]||0;v[o]=b+=p}else for(o=t.b1;o<=t.b2;o++){for(p=0,c=t.r1;c<=t.r2;c++)for(u=t.g1;u<=t.g2;u++)p+=e[n(c,u,o)]||0;v[o]=b+=p}return v.forEach(function(M,g){k[g]=b-M}),(function(M){var g,x,m,y,w,C=M+"1",E=M+"2",L=0;for(o=t[C];o<=t[E];o++)if(v[o]>b/2){for(m=t.copy(),y=t.copy(),w=(g=o-t[C])<=(x=t[E]-o)?Math.min(t[E]-1,~~(o+x/2)):Math.max(t[C],~~(o-1-g/2));!v[w];)w++;for(L=k[w];!L&&v[w-1];)L=k[--w];return m[E]=w,y[C]=m[E]+1,[m,y]}})(r==a?"r":r==l?"g":"b")}}return h.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(e){var t=this,a=t.histo;if(!t._count_set||e){var l,r,o,c=0;for(l=t.r1;l<=t.r2;l++)for(r=t.g1;r<=t.g2;r++)for(o=t.b1;o<=t.b2;o++)c+=a[n(l,r,o)]||0;t._count=c,t._count_set=!0}return t._count},copy:function(){var e=this;return new h(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(e){var t=this,a=t.histo;if(!t._avg||e){var l,r,o,c,u=0,p=0,b=0,v=0;if(t.r1===t.r2&&t.g1===t.g2&&t.b1===t.b2)t._avg=[t.r1<<3,t.g1<<3,t.b1<<3];else{for(r=t.r1;r<=t.r2;r++)for(o=t.g1;o<=t.g2;o++)for(c=t.b1;c<=t.b2;c++)u+=l=a[n(r,o,c)]||0,p+=l*(r+.5)*8,b+=l*(o+.5)*8,v+=l*(c+.5)*8;t._avg=u?[~~(p/u),~~(b/u),~~(v/u)]:[~~(8*(t.r1+t.r2+1)/2),~~(8*(t.g1+t.g2+1)/2),~~(8*(t.b1+t.b2+1)/2)]}}return t._avg},contains:function(e){var t=this,a=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,a>=t.r1&&a<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},d.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,a=0;a<t.size();a++)if(t.peek(a).vbox.contains(e))return t.peek(a).color;return this.nearest(e)},nearest:function(e){for(var t,a,l,r=this.vboxes,o=0;o<r.size();o++)((a=Math.sqrt(Math.pow(e[0]-r.peek(o).color[0],2)+Math.pow(e[1]-r.peek(o).color[1],2)+Math.pow(e[2]-r.peek(o).color[2],2)))<t||t===void 0)&&(t=a,l=r.peek(o).color);return l},forcebw:function(){var e=this.vboxes;e.sort(function(r,o){return A($(r.color),$(o.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var a=e.length-1,l=e[a].color;l[0]>251&&l[1]>251&&l[2]>251&&(e[a].color=[255,255,255])}},{quantize:function(e,t){if(!Number.isInteger(t)||t<1||t>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!e.length||t<2||t>256||!e.length||t<2||t>256)return!1;for(var a=[],l=new Set,r=0;r<e.length;r++){var o=e[r],c=o.join(",");l.has(c)||(l.add(c),a.push(o))}if(a.length<=t)return new D(a);var u=(function(g){var x,m=new Array(32768);return g.forEach(function(y){x=n(y[0]>>3,y[1]>>3,y[2]>>3),m[x]=(m[x]||0)+1}),m})(e);u.forEach(function(){});var p=(function(g,x){var m,y,w,C=1e6,E=0,L=1e6,I=0,O=1e6,z=0;return g.forEach(function(T){(m=T[0]>>3)<C?C=m:m>E&&(E=m),(y=T[1]>>3)<L?L=y:y>I&&(I=y),(w=T[2]>>3)<O?O=w:w>z&&(z=w)}),new h(C,E,L,I,O,z,x)})(e,u),b=new s(function(g,x){return A(g.count(),x.count())});function v(g,x){for(var m,y=g.size(),w=0;w<1e3;){if(y>=x||w++>1e3)return;if((m=g.pop()).count()){var C=f(u,m),E=C[0],L=C[1];if(!E)return;g.push(E),L&&(g.push(L),y++)}else g.push(m),w++}}b.push(p),v(b,.75*t);for(var k=new s(function(g,x){return A(g.count()*g.volume(),x.count()*x.volume())});b.size();)k.push(b.pop());v(k,t);for(var M=new d;k.size();)M.push(k.pop());return M}}})().quantize,q=function(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=n.naturalWidth,this.height=this.canvas.height=n.naturalHeight,this.context.drawImage(n,0,0,this.width,this.height)};q.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var _=function(){};_.prototype.getColor=function(n,s){return s===void 0&&(s=10),this.getPalette(n,5,s)[0]},_.prototype.getPalette=function(n,s,h){var d=(function(a){var l=a.colorCount,r=a.quality;if(l!==void 0&&Number.isInteger(l)){if(l===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");l=Math.max(l,2),l=Math.min(l,20)}else l=10;return(r===void 0||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:l,quality:r}})({colorCount:s,quality:h}),f=new q(n),e=(function(a,l,r){for(var o,c,u,p,b,v=a,k=[],M=0;M<l;M+=r)c=v[0+(o=4*M)],u=v[o+1],p=v[o+2],((b=v[o+3])===void 0||b>=125)&&(c>250&&u>250&&p>250||k.push([c,u,p]));return k})(f.getImageData().data,f.width*f.height,d.quality),t=H(e,d.colorCount);return t?t.palette():null},_.prototype.getColorFromUrl=function(n,s,h){var d=this,f=document.createElement("img");f.addEventListener("load",function(){var e=d.getPalette(f,5,h);s(e[0],n)}),f.src=n},_.prototype.getImageData=function(n,s){var h=new XMLHttpRequest;h.open("GET",n,!0),h.responseType="arraybuffer",h.onload=function(){if(this.status==200){var d=new Uint8Array(this.response);i=d.length;for(var f=new Array(i),e=0;e<d.length;e++)f[e]=String.fromCharCode(d[e]);var t=f.join(""),a=window.btoa(t);s("data:image/png;base64,"+a)}},h.send()},_.prototype.getColorAsync=function(n,s,h){var d=this;this.getImageData(n,function(f){var e=document.createElement("img");e.addEventListener("load",function(){var t=d.getPalette(e,5,h);s(t[0],this)}),e.src=f})};function P(){return{dropdownOpen:!1,triggerEl:null,menuEl:null,_listenersAdded:!1,toggle(n){this.triggerEl=n,this.menuEl=this.$refs.menuEl,this.dropdownOpen=!this.dropdownOpen,this.dropdownOpen?(this.showMenu(),this.addListeners()):this.hideMenu()},showMenu(){!this.menuEl||!this.triggerEl||(this.positionMenu(),this.menuEl.classList.remove("hidden"),this.dropdownOpen=!0)},hideMenu(){this.menuEl&&this.menuEl.classList.add("hidden"),this.dropdownOpen=!1},positionMenu(){if(!this.triggerEl||!this.menuEl)return;this.triggerEl;const n=this.triggerEl.getBoundingClientRect(),s=this.menuEl.offsetHeight||200,h=this.menuEl.offsetWidth||168,d=window.innerHeight-n.bottom,f=n.top;this.menuEl.style.position="absolute",d<s&&f>s?this.menuEl.style.top=`${n.top+n.height*1.5+window.scrollY-s}px`:this.menuEl.style.top=`${n.bottom+window.scrollY}px`,this.menuEl.style.left=`${n.x-(h-n.width+window.scrollX)}px`},addListeners(){if(this._listenersAdded)return;this._listenersAdded=!0;const n=s=>{this.dropdownOpen&&this.menuEl&&!this.menuEl.contains(s.target)&&!this.triggerEl.contains(s.target)&&this.hideMenu()};document.addEventListener("click",n),window.addEventListener("resize",()=>{this.dropdownOpen&&this.positionMenu()}),window.addEventListener("scroll",()=>{this.dropdownOpen&&this.positionMenu()},!0)}}}window.colorThiefInstance=new _;(function(){document.addEventListener("alpine:init",()=>{Alpine.data("dropdownTeleport",P),Alpine.store("ui",{dark:localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches,toggleTheme(){this.dark=!this.dark,localStorage.theme=this.dark?"dark":"light",document.documentElement.classList.toggle("dark",this.dark)},setTheme(n){this.dark=n==="dark",localStorage.theme=n,document.documentElement.classList.toggle("dark",this.dark)},sidebarOpen:!1,toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},closeSidebar(){this.sidebarOpen=!1},scrollUp(n){(n.closest("body")||document.querySelector("body")).scrollIntoView({behavior:"smooth"})},toastMarkup(n,s="default"){let h={success:"shadow-lg bg-blue-600 text-sm text-white",error:"shadow-lg bg-red-500 text-sm text-white",warning:"shadow-lg bg-yellow-500 text-sm text-white",default:"shadow-lg bg-gray-800 text-sm text-white rounded-lg p-4 dark:bg-white dark:text-neutral-800"}[s],d={success:"bx-check-circle",error:"bx-x-circle",warning:"bx-error",default:"bx-info-circle"}[s];return`
                    <div class="flex items-center gap-2 p-4 rounded-md ${h}">
                        <i class="bx ${d} text-lg"></i>
                        <p class="text-sm toast-description">${n}</p>
                        <div class="ms-auto">
                            <button onclick="Alpine.store('ui').tostifyCustomClose(event.target)"
                                type="button"
                                class="inline-flex justify-center items-center rounded-lg opacity-50 size-5 hover:opacity-100 focus:outline-none"
                                aria-label="Close">
                                <span class="sr-only">Close</span>
                                <i class="text-lg bx bx-x"></i>
                            </button>
                        </div>
                    </div>
                `},notify(n,s="default"){S({gravity:"bottom",text:this.toastMarkup(n,s),duration:8e3,close:!0,className:"ssh-toast",escapeMarkup:!1,offset:{y:20}}).showToast()},tostifyCustomClose(n){n.closest(".toastify").querySelector(".toast-close").click()},init(){document.documentElement.classList.toggle("dark",this.dark)}}),Alpine.data("colorThief",()=>({rgb:[0,0,0],gradient:"",getColor(n){const s=()=>{this.rgb=window.colorThiefInstance.getColor(n);const[h,d,f]=this.rgb;this.gradient=`radial-gradient(circle at center,
            rgba(${h}, ${d}, ${f}, 0.8) 0%,
            rgba(${h}, ${d}, ${f}, 0.05) 70%,
            transparent 100%)`};n.complete?s():n.onload=s}}))}),window.addEventListener("updatedLocale",()=>window.location.reload()),document.addEventListener("notify",function(n){const s=n.detail[0];Alpine.store("ui").notify(s.message,s.type)}),window.addEventListener("resize",()=>{Alpine.store("ui").sidebarOpen=window.innerWidth>=1024})})();
